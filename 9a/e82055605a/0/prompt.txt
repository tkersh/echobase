Nginx is giving a 500 after login to prometheus. I suspect it isn't getting the env var properly since I'm also getting these errors when I run start (And the variables it says aren't set are part of the encrypted password)

---

Let's skip .env.secrets altogether and just read from the environment

---

./start.sh should still check for HTPASSWD_CONTENTS and fail fast with the same messages as before

---

After login, https://localhost:443/prometheus/ reroutes to localhost/prometheus without the port, and gives a 500 error

---

Same behavior. How to check the nginx logs to see if the login was accepted?

---

1. Let's make sure that will work in ci as well

---

Nothing should be running as root in any of the subsystems

---

Now prometheus logs in correctly and so does jaeger but jaeger returns a blank page with some scripts and this html. Is it not loading content for some reason?   <body>
    <div id="jaeger-ui-root"></div>
    <!--
      This file is the main entry point for the Jaeger UI application.
      See https://vitejs.dev/guide/#index-html-and-project-root for more information
      on how asset references are managed by the build system.
    -->

---

Why did it work before we added the nginx auth?

---

On signin to jaeger I get 502 Bad Gateway

---

https://localhost:443/jaeger/ after login redirects to https://localhost/jaeger/ and gets 502 bad gateway

---

Let's follow the standard best practice