# Order Processor - Standalone Development Configuration
#
# For Docker Compose: Use the root .env file (values are passed via docker-compose.yml)
# For standalone development outside Docker:
#   1. Run ./scripts/generate-credentials.sh from the project root
#   2. Override these values for localhost access:
#      SQS_ENDPOINT=http://localhost:4566
#      DB_HOST=localhost
#
# All configuration defaults are maintained in the root .env (tracked in git).
# Secrets are in root .env.secrets (generated, gitignored).

# --- AWS / SQS ---
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=test                          # Use 'test' for LocalStack
AWS_SECRET_ACCESS_KEY=test
SQS_ENDPOINT=http://localstack:4566
SQS_QUEUE_URL=http://sqs.us-east-1.localhost.localstack.cloud:4566/000000000000/order-processing-queue

# --- Database ---
SECRETS_MANAGER_ENDPOINT=http://localstack:4566
DB_SECRET_NAME=echobase/database/credentials
DB_HOST=mariadb
DB_PORT=3306
DB_NAME=orders_db
DB_CONNECTION_LIMIT=2                           # Lower than API Gateway (processor is single-threaded)
DB_QUEUE_LIMIT=0                                # 0 = unlimited queue

# --- Polling ---
MAX_MESSAGES=10                                 # Max messages per SQS long-poll receive

# --- Health ---
HEALTH_PORT=3003                                # HTTP health endpoint port

# --- Observability ---
OTEL_COLLECTOR_ENDPOINT=http://otel-collector:4318
OTEL_SERVICE_NAME=order-processor
OTEL_ENABLED=true                               # Set 'false' to disable all OTEL instrumentation
LOG_LEVEL=INFO                                  # DEBUG, INFO, WARN, ERROR, FATAL
LOG_FORMAT=text                                 # 'json' for structured output
